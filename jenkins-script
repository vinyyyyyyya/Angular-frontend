pipeline {
    agent any

    environment {
        NODE_VERSION = '18'  // Set the Node.js version
    }

    stages {
        stage('Checkout') {
            steps {
                sh 'echo passed'
                //git branch: 'main', url: 'https://github.com/vinyyyyyyya/Angular-frontend'
            }
        }

        stage('Install Dependencies') {
            steps {
                script {
                    // Use the Node.js tool to set the desired Node.js version
                    tools.nodejs.NODEJS_INSTALLATION = NODE_VERSION
                    def npm = tool name: 'NodeJS', type: 'Tool'
                    sh "${npm}/bin/npm install"
                }
            }
        }

        stage('Build') {
            steps {
                script {
                    // Your build commands (e.g., webpack, gulp, etc.)
                    sh "${npm}/bin/npm run build"
                }
            }
        }

        stage('Test') {
            steps {
                script {
                    // Your test commands (e.g., mocha, jest, etc.)
                    sh "${npm}/bin/npm test"
                }
            }
        }

       
    }

  
}
